<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <title>Cadastro quase completo</title>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
            rel="stylesheet"
        />
        <style>
            :root {
                --bg: #0b0b0d;
                --card: #121215;
                --text: #e7e7ea;
                --muted: #a9a9b5;
                --primary: #ef233c;
            }
            body {
                margin: 0;
                background: var(--bg);
                color: var(--text);
                font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto,
                    Helvetica, Arial;
            }
            .wrap {
                min-height: 100vh;
                display: grid;
                place-items: center;
                padding: 24px;
            }
            .card {
                max-width: 620px;
                width: 100%;
                background: var(--card);
                border: 1px solid rgba(255, 255, 255, 0.06);
                border-radius: 16px;
                padding: 28px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
            }
            h1 {
                margin: 0 0 10px;
                font-size: 28px;
            }
            p {
                color: var(--muted);
                line-height: 1.55;
            }
            .cta {
                display: inline-block;
                margin-top: 14px;
                padding: 14px 18px;
                border-radius: 12px;
                background: var(--primary);
                color: #fff;
                font-weight: 800;
                text-decoration: none;
            }
            .count {
                margin-top: 10px;
                font-weight: 800;
            }
            .mini {
                margin-top: 8px;
                font-size: 14px;
                color: #a1a1ad;
            }
        </style>
    </head>
    <body>
        <main class="wrap">
            <section class="card">
                <h1>Cadastro quase completo ✅</h1>
                <p>
                    Para garantir seu acesso e receber os avisos da
                    <strong>Live Semanal</strong>, você precisa entrar no grupo
                    do WhatsApp.
                </p>
                <p>Estamos te redirecionando automaticamente…</p>
                <div class="count">
                    Redirecionando em <span id="sec">5</span>s
                </div>
                <a id="join" class="cta" href="#" rel="noopener nofollow"
                    >Entrar no grupo agora</a
                >
                <p class="mini">Se nada acontecer, clique no botão acima.</p>
            </section>
        </main>

        <script>
            // Lê ?g=<link do grupo> e dados (opcional) enviados pela landing
            const params = new URLSearchParams(location.search);
            const group = params.get('g');

            // Sanitiza: se não vier, evita erro e mostra fallback
            const link =
                group && group.startsWith('http') ? group : 'https://wa.me/';

            // Botão aponta para o grupo
            const a = document.getElementById('join');
            a.href = link;

            // Contagem regressiva + redirect automático
            let s = 5;
            const span = document.getElementById('sec');
            const timer = setInterval(() => {
                s -= 1;
                span.textContent = s;
                if (s <= 0) {
                    clearInterval(timer);
                    // replace para não poluir o histórico
                    window.location.replace(link);
                }
            }, 1000);

            // Se o usuário clicar, redireciona imediato
            a.addEventListener('click', () => {
                clearInterval(timer);
            });
        </script>
    </body>
</html>
